<!DOCTYPE html>
<html lang="kr">
<head>
	<meta charset="UTF-8">
	<title>TEST</title>
</head>
<body>
<script type="text/javascript">

// -----------------------------------------------
document.write("--- Proxy API ---");
document.write("<br>");
(function(){
	let target = {
		age: 12
	};

	let handler = {};

	let proxy = new Proxy(target, handler);
	proxy.name = "수지";

	document.write(target.name);document.write("<br>");
	document.write(proxy.name);document.write("<br>");
	document.write(target.age);document.write("<br>");
	document.write(proxy.age);
})();
document.write("<br>");
document.write("<br>");

// -----------------------------------------------
document.write("--- Proxy API simple ---");
document.write("<br>");
(function(){
	let proxy = new Proxy({
		age: 12
	}, {});

	proxy.name = "수지";

	document.write(proxy.name);document.write("<br>");
	document.write(proxy.age);
})();
document.write("<br>");
document.write("<br>");

// -----------------------------------------------
document.write("--- Proxy.get ---");
document.write("<br>");
(function(){
	let proxy = new Proxy({
		age: 12
	}, {
		get: function(target, property, receiver){
			if(property in target){
				return target[property];
			}
			else{
				return "찾지 못함";
			}
		}
	});

	document.write(Reflect.get(proxy, "age"));document.write("<br>");
	document.write(proxy.age);document.write("<br>");
	document.write(Reflect.get(proxy, "name"));document.write("<br>");
	document.write(proxy.name);
})();
document.write("<br>");
document.write("<br>");

// -----------------------------------------------
document.write("--- Proxy.get (receiver) ---");
document.write("<br>");
(function(){
	let proxy = new Proxy({
		age: 13
	}, {
		get: function(target, property, receiver){
			console.log(receiver);
			if(property in target){
				console.log(receiver);
				return target[property];
			}
			else{
				return "찾지 못함";
			}
		}
	});

	let temp = proxy.name;

	var obj = {
		age: 12,
		__proto__: proxy
	}

	temp = obj.name;
})();
document.write("<br>");
document.write("<br>");

</script>
</body>
</html>